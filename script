javascript:(function(){const getSaved=()=>{let data=JSON.parse(localStorage.getItem('velvet_scripts')||'{}');for(let k in data){if(typeof data[k]==='string'){data[k]={code:data[k],auto:false}}}return data;};const saveScript=(name,code,auto=false)=>{const scripts=getSaved();const isAuto=scripts[name]?scripts[name].auto:auto;scripts[name]={code:code,auto:isAuto};localStorage.setItem('velvet_scripts',JSON.stringify(scripts));};const deleteScript=(name)=>{const scripts=getSaved();delete scripts[name];localStorage.setItem('velvet_scripts',JSON.stringify(scripts));};const toggleAuto=(name)=>{const scripts=getSaved();if(scripts[name]){scripts[name].auto=!scripts[name].auto;localStorage.setItem('velvet_scripts',JSON.stringify(scripts));}};const autoScripts=getSaved();for(let name in autoScripts){if(autoScripts[name].auto){try{eval(autoScripts[name].code);console.log('Velvet Auto-ran: '+name);}catch(e){console.error('Velvet Error in '+name+':',e);}}}if(document.getElementById('velvet-injector-ui'))return;const container=document.createElement('div');container.id='velvet-injector-ui';Object.assign(container.style,{position:'fixed',top:'15%',left:'25%',width:'650px',backgroundColor:'#3d1c1c',borderRadius:'15px',border:'2px solid #1a0a0a',padding:'25px',zIndex:'999999',fontFamily:'Segoe UI, sans-serif',color:'white',boxShadow:'0 20px 50px rgba(0,0,0,0.7)',textAlign:'left',userSelect:'none'});container.innerHTML='<div id="v-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-weight: 300; cursor: move; padding-bottom: 5px;"><span style="font-size: 28px;">Velvet Injector</span><div style="display: flex; align-items: center; gap: 15px;"><span style="font-size: 14px; opacity: 0.5;">Velvet.redorb.net</span><button id="v-minimize" style="background: none; border: none; color: white; font-size: 20px; cursor: pointer; padding: 0 5px; line-height: 1; font-weight: bold;" title="Minimize">_</button></div></div><div id="v-body-content"><textarea id="velvet-input" placeholder="user script here..." style="width: 100%; height: 280px; background: #3d1c1c; border: 2px solid #1a0a0a; border-radius: 10px; color: #fff; padding: 20px; font-family: \'Consolas\', monospace; resize: none; outline: none; margin-bottom: 20px; text-align: left; font-size: 14px; box-sizing: border-box; white-space: pre;"></textarea><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;"><button class="v-btn" id="v-update">Update</button><button class="v-btn" id="v-saved">Saved scripts</button><button class="v-btn" id="v-disable">Disable</button><button class="v-btn" id="v-install">Install</button><button class="v-btn" id="v-delete">Delete</button><button class="v-btn" id="v-enable">Enable</button></div></div><div id="v-list-overlay" style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:#3d1c1c; border-radius:15px; padding:25px; box-sizing:border-box; overflow-y:auto; border: 2px solid #1a0a0a;"><h2 style="margin-top:0; border-bottom: 1px solid #1a0a0a; padding-bottom: 10px;">Saved Scripts</h2><div id="v-list-content"></div><button class="v-btn" style="margin-top:20px; width:100%;" id="v-close-list">Back to Editor</button></div>';const style=document.createElement('style');style.textContent='.v-btn { background: #3d1c1c; border: 2px solid #1a0a0a; border-radius: 10px; color: white; padding: 10px; cursor: pointer; font-weight: 600; font-size: 14px; transition: 0.2s; } .v-btn:hover { background: #522323; } .v-item { background: #2d1212; padding: 12px; border: 1px solid #1a0a0a; border-radius: 8px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; } .v-action-btn { background: #4a1e1e; border: 1px solid #1a0a0a; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; margin-left: 5px;} .v-action-btn:hover { background: #632b2b; } #v-minimize:hover { color: #ffadad !important; }';document.head.appendChild(style);document.body.appendChild(container);const input=document.getElementById('velvet-input');const overlay=document.getElementById('v-list-overlay');const bodyContent=document.getElementById('v-body-content');const minBtn=document.getElementById('v-minimize');let isMinimized=false;minBtn.onclick=()=>{isMinimized=!isMinimized;bodyContent.style.display=isMinimized?'none':'block';minBtn.innerText=isMinimized?'â–¡':'_';container.style.paddingBottom=isMinimized?'10px':'25px';};input.addEventListener('keydown',function(e){if(e.key==='Tab'){e.preventDefault();const start=this.selectionStart;const end=this.selectionEnd;this.value=this.value.substring(0,start)+"    "+this.value.substring(end);this.selectionStart=this.selectionEnd=start+4;}});const header=document.getElementById('v-header');let isDragging=false,offsetX,offsetY;header.addEventListener('mousedown',(e)=>{if(e.target===minBtn)return;isDragging=true;offsetX=e.clientX-container.offsetLeft;offsetY=e.clientY-container.offsetTop;});document.addEventListener('mousemove',(e)=>{if(!isDragging)return;container.style.left=(e.clientX-offsetX)+'px';container.style.top=(e.clientY-offsetY)+'px';});document.addEventListener('mouseup',()=>isDragging=false);document.getElementById('v-install').onclick=()=>{const code=input.value;if(!code.trim())return alert('Box is empty!');const match=code.match(/\/\/\s*@name\s+(.+)/i);const scriptName=match?match[1].trim():"Unnamed Script "+Math.floor(Math.random()*1000);try{eval(code);saveScript(scriptName,code);alert('Script Active & Saved as "'+scriptName+'"!');}catch(e){alert('Error: '+e);}};document.getElementById('v-update').onclick=()=>{const name=prompt("Name your script to update/save manually:");if(name){saveScript(name,input.value);alert('Saved!');}};const renderSaved=()=>{const list=document.getElementById('v-list-content');const scripts=getSaved();list.innerHTML=Object.keys(scripts).length?'':'<p>No scripts saved yet...</p>';for(const name in scripts){const row=document.createElement('div');row.className='v-item';row.innerHTML='<div style="display: flex; flex-direction: column; gap: 5px;"><span style="font-family: monospace; font-size: 15px;">'+name+'</span><label style="font-size: 12px; cursor: pointer; color: #b37e7e; display: flex; align-items: center; gap: 5px;"><input type="checkbox" class="v-auto-chk" '+(scripts[name].auto?'checked':'')+'> Auto-run on click</label></div><div><button class="v-action-btn load-btn">Load</button><button class="v-action-btn del-btn" style="color: #ff7676;">X</button></div>';row.querySelector('.v-auto-chk').onchange=()=>toggleAuto(name);row.querySelector('.load-btn').onclick=()=>{input.value=scripts[name].code;overlay.style.display='none';};row.querySelector('.del-btn').onclick=()=>{if(confirm('Delete '+name+'?')){deleteScript(name);renderSaved();}};list.appendChild(row);}};document.getElementById('v-saved').onclick=()=>{renderSaved();overlay.style.display='block';};document.getElementById('v-close-list').onclick=()=>overlay.style.display='none';document.getElementById('v-delete').onclick=()=>{container.remove();style.remove();};})();
